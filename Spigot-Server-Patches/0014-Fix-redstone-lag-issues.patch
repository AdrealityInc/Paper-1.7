From 4db0e372257fed81cb8d2d465a81efc04131d18f Mon Sep 17 00:00:00 2001
From: Iceee <andrew@opticgaming.tv>
Date: Thu, 12 Jun 2014 13:37:35 -0500
Subject: [PATCH] Fix redstone lag issues


diff --git a/src/main/java/net/minecraft/server/WorldServer.java b/src/main/java/net/minecraft/server/WorldServer.java
index 91f036b..e98d282 100644
--- a/src/main/java/net/minecraft/server/WorldServer.java
+++ b/src/main/java/net/minecraft/server/WorldServer.java
@@ -527,6 +527,7 @@ public class WorldServer extends World {
         if (i != this.M.size()) {
             throw new IllegalStateException("TickNextTick list out of synch");
         } else {
+            /* PaperSpigot start - Fix redstone lag issues
             if (i > 1000) {
                 // CraftBukkit start - If the server has too much to process over time, try to alleviate that
                 if (i > 20 * 1000) {
@@ -535,7 +536,12 @@ public class WorldServer extends World {
                     i = 1000;
                 }
                 // CraftBukkit end
+            } */
+
+            if (i > 10000) {
+                i = 10000;
             }
+            // PaperSpigot end
 
             this.methodProfiler.a("cleaning");
 
-- 
1.9.1

